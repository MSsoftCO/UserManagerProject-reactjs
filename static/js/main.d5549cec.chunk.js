(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(53)},37:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},49:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(13),s=a.n(l),r=a(17),c=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(37),a(38),a(40),a(41);var d=a(4),m=a(31),u=a(9),h=a(6),b=a(11),f=a(10),p=a(12),v=a(8),w=(a(42),a(43),[{id:1,name:"\u0645\u062d\u0633\u0646 \u062d\u06cc\u062f\u0631\u06cc",nationalCode:"2435613985",roles:[1,3,4]},{id:2,name:"\u0628\u0647\u0646\u0627\u0645 \u062d\u0633\u06cc\u0646\u06cc",nationalCode:"2326489224",roles:[1,2]}]),E="\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc",g="\u06a9\u062f \u0645\u0644\u06cc",N="\u0646\u0642\u0634(\u0647\u0627)",j="\u0639\u0645\u0644\u06cc\u0627\u062a",O={1:{title:"\u0645\u0646\u0648"},2:{title:"\u06af\u0632\u0627\u0631\u0634"},3:{title:"\u0628\u0627\u0632\u0631\u0633\u06cc"},4:{title:"\u0645\u0631\u06a9\u0632\u06cc"}},k=(a(44),function(e){return o.a.createElement("nav",{className:"header navbar navbar-dark"},o.a.createElement(r.b,{className:"navbar-brand d-flex align-items-center",to:"/"},o.a.createElement("i",{className:"fa fa-user-circle-o ml-2 fa-2x"}),o.a.createElement("span",null,e.text)))}),y=a(22),U=a(16),C=a(7),S=a(19),H=a.n(S),x=(a(49),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).state={show:a.props.show},a.handleHidden=a.handleHidden.bind(Object(C.a)(a)),a.handleHide=a.handleHide.bind(Object(C.a)(a)),a.handleShown=a.handleShown.bind(Object(C.a)(a)),a.handleSave=a.handleSave.bind(Object(C.a)(a)),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.$el=H()(this.el),this.$el.modal({show:this.state.show}),this.$el.on("hidden.bs.modal",this.handleHidden),this.$el.on("hide.bs.modal",this.handleHide),this.$el.on("shown.bs.modal",this.handleShown)}},{key:"handleHidden",value:function(){this.props.onHidden&&this.props.onHidden()}},{key:"handleHide",value:function(){this.setState({show:!1})}},{key:"handleShown",value:function(){this.setState({show:!0})}},{key:"handleSave",value:function(e){this.props.onSave&&this.props.onSave(e)}},{key:"componentWillUnmount",value:function(){this.$el.modal("dispose")}},{key:"componentDidUpdate",value:function(e,t,a){!!this.props.show!==t.show&&this.$el.modal(this.props.show?"show":"hide")}}]),Object(h.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"modal fade",ref:function(t){return e.el=t},role:"dialog","aria-labelledby":"Add or edit user","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header d-flex justify-content-between"},o.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"\u0644\u0637\u0641\u0627 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0632\u06cc\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"),o.a.createElement("button",{type:"button",className:"close mr-auto","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},this.props.children),o.a.createElement("div",{className:"modal-footer d-flex justify-content-between"},o.a.createElement("button",{type:"button",className:"btn btn-primary",title:"\u0630\u062e\u06cc\u0631\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a",onClick:this.handleSave},"\u0630\u062e\u06cc\u0631\u0647"),o.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",title:"\u0644\u063a\u0648 \u0639\u0645\u0644\u06cc\u0627\u062a","data-dismiss":"modal"},"\u0644\u063a\u0648")))))}}]),t}(n.Component)),M=a(28),I=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).saveUser=function(){var e=Object(d.a)({},a.state.modalUser,{roles:new Map(a.state.modalUser.roles)});e.name&&e.nationalCode?a.setState(function(t){return Object(d.a)({modal:!1},e,{modalUser:Object(d.a)({},e,{roles:new Map})})},function(){a.props.saveHandler&&a.props.saveHandler(Object(d.a)({},a.state,{modalUser:void 0}))}):v.b.warn("\u0641\u06cc\u0644\u062f\u0647\u0627\u06cc \u0646\u0627\u0645 \u0648 \u06a9\u062f\u0645\u0644\u06cc \u0627\u062c\u0628\u0627\u0631\u06cc \u0627\u0633\u062a",{position:v.b.POSITION.BOTTOM_RIGHT})},a.onHide=function(){a.setState({modal:!1,modalUser:Object(d.a)({},a.state,{roles:new Map})},function(){return!!a.props.hideHandler&&a.props.hideHandler()})},a.inputChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,o=t.name;a.setState(function(e){return{modalUser:Object(d.a)({},e.modalUser,Object(U.a)({},o,n))}})},a.roleChange=function(e,t){var n=e.target.checked,o=parseInt(t);a.setState(function(e){var t=new Map(e.modalUser.roles.entries());return n?t.set(o,O[o]):t.delete(o),{modalUser:Object(d.a)({},e.modalUser,{roles:t})}})};var n=Object.assign({},{name:"",nationalCode:""},e.user);return n.roles=new Map(n.roles&&n.roles.map?n.roles.map(function(e){return[e,O[e]]}):[]),a.newUser=!!a.props.new,a.state=Object(d.a)({},n,{modal:!1}),a.state.modalUser=Object(d.a)({},n,{roles:new Map(n.roles.entries())}),a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){e.modal!==this.props.modal&&t.modal!==!!this.props.modal&&this.setState({modal:!!this.props.modal}),t.modal!==this.state.modal&&this.state.modal&&this.setState({modalUser:Object(d.a)({},t,{roles:new Map(t.roles)})})}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(x,{show:this.state.modal,onSave:this.saveUser,onHidden:function(t){return e.onHide(t)}},o.a.createElement("form",{className:"needs-validation",noValidate:!0},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 mb-3"},o.a.createElement("label",{htmlFor:"name"},"\u0646\u0627\u0645 \u0648 \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc"),o.a.createElement("input",{type:"text",className:"form-control",id:"name",name:"name",value:this.state.modalUser.name,onChange:this.inputChange,placeholder:"\u0646\u0627\u0645",required:!0,autoFocus:!0}),o.a.createElement("div",{className:"invalid-feedback"},"Valid name is required.")),o.a.createElement("div",{className:"col-md-6 mb-3"},o.a.createElement("label",{htmlFor:"nationalCode"},"\u06a9\u062f \u0645\u0644\u06cc"),o.a.createElement("input",{type:"text",className:"form-control",id:"nationalCode",name:"nationalCode",value:this.state.modalUser.nationalCode,onChange:this.inputChange,placeholder:"\u06a9\u062f \u0645\u0644\u06cc",required:!0}),o.a.createElement("div",{className:"invalid-feedback"},"Valid ID Code is required.")),o.a.createElement("div",{className:"roles-wrapper"},o.a.createElement("label",null,"\u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u0642\u0634"),o.a.createElement("div",{className:"roles"},Object.entries(O).map(function(t){var a=Object(y.a)(t,2),n=a[0],l=a[1],s=Object(M.uniqueId)("custom-control");return o.a.createElement("div",{key:n,className:"custom-control custom-checkbox"},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:s,name:"role-menu",onChange:function(t){return e.roleChange(t,n)},checked:e.state.modalUser.roles.has(Number.parseInt(n))}),o.a.createElement("label",{htmlFor:s,className:"custom-control-label"},l.title))})))))),this.newUser||o.a.createElement("div",{className:"row shadow-sm bg-white"},o.a.createElement("div",{className:"col-6 col-sm-4 col-md-3 name"},this.state.name),o.a.createElement("div",{className:"col-4 col-md-3 d-none d-sm-block nationalCode"},Number(this.state.nationalCode).toLocaleString("fa-IR",{useGrouping:!1})),o.a.createElement("div",{className:"col-3 d-none d-md-block roles"},Array.from(this.state.roles.entries()).map(function(e){var t=Object(y.a)(e,2),a=t[0],n=t[1];return o.a.createElement("span",{className:"badge badge-info ml-2",key:a},n.title)})),o.a.createElement("div",{className:"col-6 col-sm-4 col-md-3 actions"},o.a.createElement("button",{className:"btn btn-sm btn-secondary ml-2","data-toggle":"modal",onClick:function(){return e.setState({modal:!0})},title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u06a9\u0627\u0631\u0628\u0631"},o.a.createElement("i",{className:"fa fa-edit"})),o.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(t){return e.props.deleteHandler(t,e.state.id,e.state.name)},title:"\u062d\u0630\u0641 \u06a9\u0627\u0631\u0628\u0631"},o.a.createElement("i",{className:"fa fa-trash"})))))}}]),t}(o.a.Component),T=function(){var e=E,t=g,a=N,n=j;return o.a.createElement("div",{className:"row shadow-sm bg-light"},o.a.createElement("div",{className:"col-6 col-sm-4 col-md-3 name"},e),o.a.createElement("div",{className:"col-4 col-md-3 d-none d-sm-block nationalCode"},t),o.a.createElement("div",{className:"col-3 d-none d-md-block roles"},a),o.a.createElement("div",{className:"col-6 col-sm-4 col-md-3 actions"},n))},A=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(b.a)(this,Object(f.a)(t).call(this,e))).saveUser=function(e){e&&a.setState(function(t){return{users:[].concat(Object(m.a)(t.users),[Object(d.a)({},e,{roles:Array.from(e.roles.keys()),id:a._nextId++})]),newUser:!1}})},a.deleteUser=function(e,t,n){a.setState(function(e){return{users:Array.from(e.users).filter(function(e){return e.id!==t})}},function(){n&&v.b.warn("\u06a9\u0627\u0631\u0628\u0631 ".concat(n," \u067e\u0627\u06a9 \u0634\u062f!"),{position:v.b.POSITION.BOTTOM_RIGHT})})},a._nextId=w.reduce(function(e,t){return Math.max(t.id,e)},0)+1,a.state={users:w,newUser:!1},a}return Object(p.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.newUser;return o.a.createElement(o.a.Fragment,null,o.a.createElement(k,{text:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"}),o.a.createElement("main",{role:"main",className:"container p-4 mt-4"},o.a.createElement(v.a,{rtl:!0}),o.a.createElement("button",{onClick:function(){e.setState(function(e){return{newUser:!0}})},title:"\u0627\u0641\u0632\u0648\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631 \u062c\u062f\u06cc\u062f",className:"btn btn-success d-flex align-items-center"},o.a.createElement("i",{className:"fa fa-plus ml-2"}),o.a.createElement("span",null,"\u0627\u0641\u0632\u0648\u062f\u0646 \u06a9\u0627\u0631\u0628\u0631")),o.a.createElement("div",{className:"table"},o.a.createElement(T,null),a.length>0&&a.map(function(t){return o.a.createElement(I,{key:t.id,deleteHandler:e.deleteUser,user:t})})),o.a.createElement(I,{saveHandler:function(t){return e.saveUser(t)},hideHandler:function(){return e.setState({newUser:!1})},modal:!!n,new:!0})))}}]),t}(n.Component);s.a.render(o.a.createElement(r.a,{basename:"/UserManagerProject-reactjs"},o.a.createElement(A,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/UserManagerProject-reactjs",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/UserManagerProject-reactjs","/service-worker.js");c?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):i(t,e)})}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.d5549cec.chunk.js.map